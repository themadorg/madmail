<!DOCTYPE html>
<html lang="fa" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø¯Ø§Ù…Ù†Ù‡ Ùˆ TLS - {{.WebDomain | cleanDomain}}</title>
    <link rel="stylesheet" href="/main.css">
    <style>
        .doc-container {
            max-width: 800px;
            margin: 40px auto;
            padding: 20px;
            background: var(--card-bg);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            direction: rtl;
        }

        h2 {
            margin-top: 30px;
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 10px;
            display: inline-block;
        }

        h3 {
            margin-top: 25px;
            color: var(--accent-color);
        }

        .highlight {
            color: var(--accent-color);
            font-weight: bold;
        }

        .code-box {
            direction: ltr;
            background: rgba(255, 255, 255, 0.05);
            padding: 12px 16px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            text-align: left;
            margin: 10px 0;
            word-break: break-all;
            white-space: pre-wrap;
            border: 1px dashed #444;
            color: #ddd;
            line-height: 1.6;
        }

        .tip-box {
            background: rgba(0, 210, 255, 0.1);
            border-right: 4px solid #00d2ff;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .warn-box {
            background: rgba(255, 180, 0, 0.1);
            border-right: 4px solid #ffb400;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .success-box {
            background: rgba(0, 200, 80, 0.1);
            border-right: 4px solid #00c850;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .mode-card {
            background: rgba(255, 255, 255, 0.04);
            border: 1px solid rgba(255, 255, 255, 0.12);
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            transition: transform 0.2s;
        }

        .mode-card:hover {
            transform: translateX(-5px);
            border-color: var(--accent-color);
        }

        .mode-card h3 {
            margin-top: 0;
        }

        .mode-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            direction: ltr;
            text-align: left;
        }

        .mode-table th,
        .mode-table td {
            border: 1px solid rgba(255, 255, 255, 0.15);
            padding: 8px 12px;
        }

        .mode-table th {
            background: rgba(255, 255, 255, 0.08);
            color: var(--accent-color);
        }

        .mode-table td {
            color: #ccc;
        }

        .badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.75em;
            font-weight: bold;
        }

        .badge-recommended {
            background: rgba(0, 200, 80, 0.2);
            color: #00c850;
            border: 1px solid #00c850;
        }

        .badge-advanced {
            background: rgba(255, 180, 0, 0.2);
            color: #ffb400;
            border: 1px solid #ffb400;
        }

        .dns-records {
            direction: ltr;
            text-align: left;
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 6px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.85em;
            line-height: 1.8;
            color: #ddd;
        }

        .port-table td {
            color: #ccc;
        }

        .code-container {
            margin: 20px 0;
            text-align: left;
            direction: ltr;
        }

        .code-header {
            background: rgba(255, 255, 255, 0.1);
            color: var(--accent-color);
            padding: 5px 15px;
            font-size: 0.8em;
            font-family: monospace;
            border-top-left-radius: 6px;
            border-top-right-radius: 6px;
            border: 1px dashed #444;
            border-bottom: none;
            display: inline-block;
        }

        .code-box {
            margin-top: 0 !important;
            border-top-left-radius: 0 !important;
            max-height: 400px;
            overflow-y: auto;
            border: 1px dashed #444 !important;
        }
    </style>
</head>

<body>
    <ul id="menu">
        <li><a href="/">Ø§ØµÙ„ÛŒ</a></li>
        <li><a href="/docs">Ù…Ø³ØªÙ†Ø¯Ø§Øª</a></li>
    </ul>

    <div class="doc-container">
        <h1>ğŸŒ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø¯Ø§Ù…Ù†Ù‡ Ùˆ TLS</h1>
        <p>Ø§ÛŒÙ† Ø±Ø§Ù‡Ù†Ù…Ø§ Ù†Ø­ÙˆÙ‡ Ø§ØªØµØ§Ù„ Ø¯Ø§Ù…Ù†Ù‡ ÙˆØ§Ù‚Ø¹ÛŒ Ø¨Ù‡ Ø³Ø±ÙˆØ± <span class="highlight">Madmail</span> Ùˆ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ú¯ÙˆØ§Ù‡ÛŒÙ†Ø§Ù…Ù‡ TLS Ø±Ø§
            Ø¨Ø·ÙˆØ± Ú©Ø§Ù…Ù„ ØªÙˆØ¶ÛŒØ­ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.</p>

        <h2>Ù…Ù‚Ø¯Ù…Ù‡: Ú†Ø±Ø§ Ø¯Ø§Ù…Ù†Ù‡ Ùˆ TLSØŸ</h2>
        <p>Ø§Ú¯Ø±Ú†Ù‡ Madmail Ø¨Ø§ Ø¢ÛŒâ€ŒÙ¾ÛŒ Ùˆ Ú¯ÙˆØ§Ù‡ÛŒÙ†Ø§Ù…Ù‡ Ø®ÙˆØ¯Ø§Ù…Ø¶Ø§ (self-signed) Ù‡Ù… Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø¯Ø§Ù…Ù†Ù‡ ÙˆØ§Ù‚Ø¹ÛŒ Ø¨Ø§ TLS Ù…Ø¹ØªØ¨Ø±
            Ù…Ø²Ø§ÛŒØ§ÛŒ Ù…Ù‡Ù…ÛŒ Ø¯Ø§Ø±Ø¯:</p>
        <ul>
            <li><strong>ÙØ¯Ø±ÛŒØ´Ù†:</strong> Ø³Ø±ÙˆØ±Ù‡Ø§ÛŒ Ø§ÛŒÙ…ÛŒÙ„ Ø¯ÛŒÚ¯Ø± (Gmail, Outlook, ...) Ø§ÛŒÙ…ÛŒÙ„ Ø§Ø² Ø³Ø±ÙˆØ±Ù‡Ø§ÛŒ Ø¨Ø¯ÙˆÙ† TLS Ù…Ø¹ØªØ¨Ø± Ø±Ø§
                Ø±Ø¯ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯</li>
            <li><strong>Ø§Ù…Ù†ÛŒØª:</strong> Ø±Ù…Ø²Ù†Ú¯Ø§Ø±ÛŒ Ø§Ø±ØªØ¨Ø§Ø·Ø§Øª Ø¨ÛŒÙ† Ú©Ù„Ø§ÛŒÙ†Øª Ùˆ Ø³Ø±ÙˆØ±</li>
            <li><strong>Ø§Ø¹ØªÙ…Ø§Ø¯:</strong> Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¨Ø§ Ø®ÛŒØ§Ù„ Ø±Ø§Ø­Øª Ø§Ø² DeltaChat Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯</li>
            <li><strong>Shadowsocks:</strong> Ù¾Ø±ÙˆÚ©Ø³ÛŒ SS Ø§Ø² Ø·Ø±ÛŒÙ‚ HTTPS Ø¨Ù‡ØªØ± Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯</li>
        </ul>

        <h2>Ù…Ø±Ø­Ù„Ù‡ Û±: ØªÙ†Ø¸ÛŒÙ… Ø±Ú©ÙˆØ±Ø¯Ù‡Ø§ÛŒ DNS</h2>
        <p>Ø§Ø¨ØªØ¯Ø§ Ø¨Ø§ÛŒØ¯ Ø±Ú©ÙˆØ±Ø¯Ù‡Ø§ÛŒ DNS Ø²ÛŒØ± Ø±Ø§ Ø¯Ø± Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø§Ù…Ù†Ù‡ Ø®ÙˆØ¯ ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ÛŒØ¯:</p>

        <div class="dns-records">
            <span class="comment"># Ø±Ú©ÙˆØ±Ø¯ A â€” Ø§Ø´Ø§Ø±Ù‡ Ø¯Ø§Ù…Ù†Ù‡ Ø¨Ù‡ Ø¢ÛŒâ€ŒÙ¾ÛŒ Ø³Ø±ÙˆØ±</span><br>
            chat.example.org. A 203.0.113.50<br><br>
            <span class="comment"># Ø±Ú©ÙˆØ±Ø¯ MX â€” Ù…Ø´Ø®Øµ Ú©Ø±Ø¯Ù† Ø³Ø±ÙˆØ± Ø§ÛŒÙ…ÛŒÙ„</span><br>
            chat.example.org. MX 10 chat.example.org.<br><br>
            <span class="comment"># Ø±Ú©ÙˆØ±Ø¯ SPF â€” Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø¬Ø¹Ù„ Ø§ÛŒÙ…ÛŒÙ„</span><br>
            chat.example.org. TXT "v=spf1 a mx ~all"<br><br>
            <span class="comment"># Ø±Ú©ÙˆØ±Ø¯ DMARC â€” Ø³ÛŒØ§Ø³Øª Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª Ø§ÛŒÙ…ÛŒÙ„</span><br>
            _dmarc.chat.example.org. TXT "v=DMARC1; p=quarantine"<br><br>
            <span class="comment"># Ø±Ú©ÙˆØ±Ø¯ DKIM â€” Ø¨Ø¹Ø¯ Ø§Ø² Ù†ØµØ¨ØŒ Ú©Ù„ÛŒØ¯ Ø¹Ù…ÙˆÙ…ÛŒ DKIM Ø±Ø§ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯</span><br>
            <span class="comment"># (Ø®Ø±ÙˆØ¬ÛŒ Ø¯Ø³ØªÙˆØ±: maddy dkim-key chat.example.org)</span><br>
            default._domainkey.chat.example.org. TXT "v=DKIM1; k=rsa; p=..."
        </div>

        <div class="tip-box">
            <strong>Ù†Ú©ØªÙ‡:</strong> Ø¨Ø¹Ø¯ Ø§Ø² ØªÙ†Ø¸ÛŒÙ… Ø±Ú©ÙˆØ±Ø¯Ù‡Ø§ØŒ Ù…Ù…Ú©Ù† Ø§Ø³Øª Ø¨ÛŒÙ† Ûµ Ø¯Ù‚ÛŒÙ‚Ù‡ ØªØ§ Û²Û´ Ø³Ø§Ø¹Øª Ø·ÙˆÙ„ Ø¨Ú©Ø´Ø¯ ØªØ§ ÙØ¹Ø§Ù„ Ø´ÙˆÙ†Ø¯.
            Ø¨Ø±Ø§ÛŒ Ø¨Ø±Ø±Ø³ÛŒ ÙÙˆØ±ÛŒ: <code dir="ltr">dig +short chat.example.org A</code>
        </div>

        <h2>Ù…Ø±Ø­Ù„Ù‡ Û²: Ø§Ù†ØªØ®Ø§Ø¨ Ø­Ø§Ù„Øª TLS</h2>
        <p>Madmail Ú†Ù‡Ø§Ø± Ø­Ø§Ù„Øª TLS Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯. Ø¬Ø¯ÙˆÙ„ Ø²ÛŒØ± ØªÙØ§ÙˆØªâ€ŒÙ‡Ø§ Ø±Ø§ Ù†Ø´Ø§Ù† Ù…ÛŒâ€ŒØ¯Ù‡Ø¯:</p>

        <table class="mode-table">
            <tr>
                <th>Ø­Ø§Ù„Øª</th>
                <th>Ú†Ø§Ù„Ø´</th>
                <th>DNS APIØŸ</th>
                <th>Ù¾ÙˆØ±Øª 80ØŸ</th>
                <th>Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ</th>
            </tr>
            <tr>
                <td><strong>autocert</strong></td>
                <td>HTTP-01</td>
                <td>âŒ Ù†Ù‡</td>
                <td>âœ… Ø¨Ù„Ù‡</td>
                <td>ØªÙˆÙ„ÛŒØ¯ (Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ)</td>
            </tr>
            <tr>
                <td><strong>acme</strong></td>
                <td>DNS-01</td>
                <td>âœ… Ø¨Ù„Ù‡</td>
                <td>âŒ Ù†Ù‡</td>
                <td>Ù¾Ø´Øª ÙØ§ÛŒØ±ÙˆØ§Ù„</td>
            </tr>
            <tr>
                <td><strong>file</strong></td>
                <td>â€”</td>
                <td>â€”</td>
                <td>â€”</td>
                <td>Ú¯ÙˆØ§Ù‡ÛŒÙ†Ø§Ù…Ù‡ Ù…ÙˆØ¬ÙˆØ¯</td>
            </tr>
            <tr>
                <td><strong>self_signed</strong></td>
                <td>â€”</td>
                <td>â€”</td>
                <td>â€”</td>
                <td>ØªØ³Øª / ÙÙ‚Ø· Ø¢ÛŒâ€ŒÙ¾ÛŒ</td>
            </tr>
        </table>

        <div class="mode-card">
            <h3>ğŸ† Ø­Ø§Ù„Øª autocert <span class="badge badge-recommended">Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ</span></h3>
            <p>Ø³Ø§Ø¯Ù‡â€ŒØªØ±ÛŒÙ† Ø±ÙˆØ´! ÙÙ‚Ø· Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø¯Ø§Ù…Ù†Ù‡ Ùˆ Ù¾ÙˆØ±Øª Û¸Û° Ø¯Ø§Ø±Ø¯. Ø¨Ø¯ÙˆÙ† Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªÙˆÚ©Ù† DNS.</p>
            <div class="code-container">
                <div class="code-header">Ù†ØµØ¨ (Maddy Install)</div>
                <pre class="code-box">sudo maddy install \
  --domain chat.example.org \
  --tls-mode autocert \
  --acme-email admin@example.org \
  --enable-chatmail \
  --non-interactive</pre>
            </div>
            <p>Ø·Ø±Ø² Ú©Ø§Ø±:</p>
            <ol style="padding-right: 20px;">
                <li>Madmail ÛŒÚ© Ø³Ø±ÙˆØ± HTTP Ø±ÙˆÛŒ Ù¾ÙˆØ±Øª Û¸Û° Ø¨Ø±Ø§ÛŒ Ú†Ø§Ù„Ø´ ACME Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯</li>
                <li>Let's Encrypt Ø¨Ø§ Ø§Ø±Ø³Ø§Ù„ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¨Ù‡ Ù¾ÙˆØ±Øª Û¸Û°ØŒ Ù…Ø§Ù„Ú©ÛŒØª Ø¯Ø§Ù…Ù†Ù‡ Ø±Ø§ ØªØ£ÛŒÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯</li>
                <li>Ú¯ÙˆØ§Ù‡ÛŒÙ†Ø§Ù…Ù‡ ØµØ§Ø¯Ø± Ù…ÛŒâ€ŒØ´ÙˆØ¯ (Ø§Ø¹ØªØ¨Ø§Ø± Û¹Û° Ø±ÙˆØ²ØŒ ØªÙ…Ø¯ÛŒØ¯ Ø®ÙˆØ¯Ú©Ø§Ø±)</li>
                <li>Ú¯ÙˆØ§Ù‡ÛŒÙ†Ø§Ù…Ù‡â€ŒÙ‡Ø§ Ø¯Ø± <code>/var/lib/maddy/autocert/</code> Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯</li>
            </ol>

            <p>Ø¯Ø± ÙØ§ÛŒÙ„ ØªÙ†Ø¸ÛŒÙ…Ø§Øª (maddy.conf):</p>
            <div class="code-container">
                <div class="code-header">maddy.conf</div>
                <pre class="code-box">tls {
    loader autocert {
        hostname chat.example.org
        email admin@example.org
        cache_dir /var/lib/maddy/autocert
        agreed
    }
}</pre>
            </div>
        </div>

        <div class="mode-card">
            <h3>ğŸ” Ø­Ø§Ù„Øª acme (DNS-01) <span class="badge badge-advanced">Ù¾ÛŒØ´Ø±ÙØªÙ‡</span></h3>
            <p>ÙˆÙ‚ØªÛŒ Ù¾ÙˆØ±Øª Û¸Û° Ø¨Ø§Ø² Ù†ÛŒØ³Øª (Ù…Ø«Ù„Ø§Ù‹ Ù¾Ø´Øª Cloudflare). Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªÙˆÚ©Ù† API Ø§Ø±Ø§Ø¦Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ù‡ DNS Ø¯Ø§Ø±Ø¯.</p>
            <div class="code-container">
                <div class="code-header">Ù†ØµØ¨ (Maddy Install)</div>
                <pre class="code-box">sudo maddy install \
  --domain chat.example.org \
  --tls-mode acme \
  --acme-email admin@example.org \
  --acme-dns-provider cloudflare \
  --acme-dns-token "YOUR_CLOUDFLARE_TOKEN" \
  --enable-chatmail \
  --non-interactive</pre>
            </div>
            <p>Ø§Ø±Ø§Ø¦Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ú¯Ø§Ù† DNS Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒâ€ŒØ´Ø¯Ù‡: <code>cloudflare</code>, <code>gandi</code>,
                <code>digitalocean</code>, <code>vultr</code>, <code>hetzner</code>, <code>route53</code>
            </p>
        </div>

        <div class="mode-card">
            <h3>ğŸ“„ Ø­Ø§Ù„Øª file (Ú¯ÙˆØ§Ù‡ÛŒÙ†Ø§Ù…Ù‡ Ù…ÙˆØ¬ÙˆØ¯)</h3>
            <p>Ø§Ú¯Ø± Ú¯ÙˆØ§Ù‡ÛŒÙ†Ø§Ù…Ù‡ Ø®ÙˆØ¯ØªØ§Ù† Ø±Ø§ Ø¯Ø§Ø±ÛŒØ¯ (Ù…Ø«Ù„Ø§Ù‹ Ø§Ø² certbot ÛŒØ§ ÛŒÚ© CA):</p>
            <div class="code-container">
                <div class="code-header">Ù†ØµØ¨ (Maddy Install)</div>
                <pre class="code-box">sudo maddy install \
  --domain chat.example.org \
  --tls-mode file \
  --cert-path /etc/letsencrypt/live/chat.example.org/fullchain.pem \
  --key-path /etc/letsencrypt/live/chat.example.org/privkey.pem \
  --enable-chatmail</pre>
            </div>

            <p>ÙØ±Ù…Øª ÙØ§ÛŒÙ„ ØªÙ†Ø¸ÛŒÙ…Ø§Øª:</p>
            <div class="code-box">tls file /path/to/fullchain.pem /path/to/privkey.pem</div>

            <div class="tip-box">
                <strong>ØªÙ…Ø¯ÛŒØ¯:</strong> ÛŒÚ© hook Ø¯Ø± certbot ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ÛŒØ¯ ØªØ§ Ø¨Ø¹Ø¯ Ø§Ø² ØªÙ…Ø¯ÛŒØ¯ØŒ maddy Ø±ÛŒØ³ØªØ§Ø±Øª Ø´ÙˆØ¯:
                <div class="code-box" style="margin-top: 5px;">systemctl reload maddy</div>
            </div>
        </div>

        <div class="mode-card">
            <h3>ğŸ§ª Ø­Ø§Ù„Øª self_signed (ØªØ³Øª)</h3>
            <p>Ú¯ÙˆØ§Ù‡ÛŒÙ†Ø§Ù…Ù‡ Ø®ÙˆØ¯Ø§Ù…Ø¶Ø§. Ù…Ù†Ø§Ø³Ø¨ ØªØ³Øª Ùˆ ØªÙˆØ³Ø¹Ù‡. Ú©Ù„Ø§ÛŒÙ†Øªâ€ŒÙ‡Ø§ Ù‡Ø´Ø¯Ø§Ø± Ù†Ù…Ø§ÛŒØ´ Ù…ÛŒâ€ŒØ¯Ù‡Ù†Ø¯.</p>
            <div class="code-container">
                <div class="code-header">Ù†ØµØ¨ (Maddy Install)</div>
                <pre class="code-box">sudo maddy install \
  --simple --ip YOUR_SERVER_IP \
  --tls-mode self_signed \
  --turn-off-tls</pre>
            </div>
            <p>Ú¯ÙˆØ§Ù‡ÛŒÙ†Ø§Ù…Ù‡â€ŒÙ‡Ø§ Ø¯Ø± <code>/var/lib/maddy/certs/</code> Ø°Ø®ÛŒØ±Ù‡ Ùˆ Ø¯Ø± Ø±ÛŒâ€ŒØ§Ø³ØªØ§Ø±Øª Ø¨Ø¹Ø¯ÛŒ Ù…Ø¬Ø¯Ø¯ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.</p>
        </div>

        <h2>Ù…Ø±Ø­Ù„Ù‡ Û³: Ø¨Ø±Ø±Ø³ÛŒ Ú¯ÙˆØ§Ù‡ÛŒÙ†Ø§Ù…Ù‡</h2>
        <p>Ø¨Ø¹Ø¯ Ø§Ø² Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒØŒ Ú¯ÙˆØ§Ù‡ÛŒÙ†Ø§Ù…Ù‡ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø§ Ø§ÛŒÙ† Ø¯Ø³ØªÙˆØ± Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯:</p>
        <div class="code-box">echo | openssl s_client -connect chat.example.org:443 \
            -servername chat.example.org 2>&1 | \
            openssl x509 -noout -subject -issuer -dates</div>

        <p>Ø®Ø±ÙˆØ¬ÛŒ Ø¨Ø§ÛŒØ¯ Ø´Ø¨ÛŒÙ‡ Ø§ÛŒÙ† Ø¨Ø§Ø´Ø¯:</p>
        <div class="code-box">subject=CN=chat.example.org
            issuer=C=US, O=Let's Encrypt, CN=E7
            notBefore=Feb 21 15:41:47 2026 GMT
            notAfter=May 22 15:41:46 2026 GMT</div>

        <h2>ØªØºÛŒÛŒØ± Ø­Ø§Ù„Øª TLS</h2>
        <h3>Ø§Ø² self_signed Ø¨Ù‡ autocert</h3>
        <div class="code-box"># Ø­Ø°Ù Ú¯ÙˆØ§Ù‡ÛŒÙ†Ø§Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ù‚Ø¯ÛŒÙ…ÛŒ
            sudo rm /var/lib/maddy/certs/fullchain.pem /var/lib/maddy/certs/privkey.pem

            # Ù†ØµØ¨ Ù…Ø¬Ø¯Ø¯ Ø¨Ø§ autocert
            sudo maddy install \
            --domain chat.example.org \
            --tls-mode autocert \
            --acme-email admin@example.org \
            --enable-chatmail \
            --non-interactive

            sudo systemctl restart maddy</div>

        <h2>Ø¹ÛŒØ¨â€ŒÛŒØ§Ø¨ÛŒ</h2>
        <div class="warn-box">
            <strong>autocert: Ú¯ÙˆØ§Ù‡ÛŒÙ†Ø§Ù…Ù‡ Ø¯Ø±ÛŒØ§ÙØª Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŸ</strong>
            <ol style="padding-right: 20px; margin: 10px 0;">
                <li>Ø¢ÛŒØ§ Ù¾ÙˆØ±Øª Û¸Û° Ø¨Ø§Ø² Ø§Ø³ØªØŸ <code dir="ltr">sudo ss -tlnp | grep :80</code></li>
                <li>Ø¢ÛŒØ§ Ø±Ú©ÙˆØ±Ø¯ DNS A Ø¯Ø±Ø³Øª ØªÙ†Ø¸ÛŒÙ… Ø´Ø¯Ù‡ØŸ <code dir="ltr">dig +short your-domain A</code></li>
                <li>Ø¢ÛŒØ§ ÙØ§ÛŒØ±ÙˆØ§Ù„ Ù…Ø³Ø¯ÙˆØ¯ Ù†Ú©Ø±Ø¯Ù‡ØŸ <code dir="ltr">sudo ufw status</code></li>
                <li>Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ maddy Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯: <code dir="ltr">sudo journalctl -u maddy -f</code></li>
            </ol>
        </div>

        <div class="warn-box">
            <strong>file: Ø®Ø·Ø§ÛŒ Permission deniedØŸ</strong>
            <div class="code-box" style="margin-top: 5px;">sudo chown root:maddy /path/to/cert.pem /path/to/key.pem
                sudo chmod 640 /path/to/cert.pem /path/to/key.pem</div>
        </div>

        <div class="success-box">
            <strong>Ø§Ù…Ù†ÛŒØª:</strong>
            <ul style="margin: 10px 0; padding-right: 20px;">
                <li>Ú©Ù„ÛŒØ¯Ù‡Ø§ÛŒ Ø®ØµÙˆØµÛŒ Ø¨Ø§ Ø¯Ø³ØªØ±Ø³ÛŒ <code>600</code> (ÙÙ‚Ø· Ù…Ø§Ù„Ú©) Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯</li>
                <li>Ú¯ÙˆØ§Ù‡ÛŒÙ†Ø§Ù…Ù‡â€ŒÙ‡Ø§ Ø¨Ø§ Ø¯Ø³ØªØ±Ø³ÛŒ <code>640</code> (Ù…Ø§Ù„Ú© + Ú¯Ø±ÙˆÙ‡) Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯</li>
                <li>Ù¾ÙˆØ´Ù‡ Ú©Ø´ autocert Ø¨Ø§ Ø¯Ø³ØªØ±Ø³ÛŒ <code>700</code> (ÙÙ‚Ø· Ù…Ø§Ù„Ú©) Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯</li>
                <li>Ú¯ÙˆØ§Ù‡ÛŒÙ†Ø§Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Let's Encrypt Ø§Ø¹ØªØ¨Ø§Ø± Û¹Û° Ø±ÙˆØ²Ù‡ Ø¯Ø§Ø±Ù†Ø¯ Ùˆ ~Û³Û° Ø±ÙˆØ² Ù‚Ø¨Ù„ Ø§Ø² Ø§Ù†Ù‚Ø¶Ø§ Ø®ÙˆØ¯Ú©Ø§Ø± ØªÙ…Ø¯ÛŒØ¯ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯</li>
            </ul>
        </div>

    </div>
</body>

</html>